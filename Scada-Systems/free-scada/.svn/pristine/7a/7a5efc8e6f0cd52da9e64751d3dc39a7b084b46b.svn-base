using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using ScadaShell.Interfaces;
using System.Reflection;
using FreeSCADA.Interfaces;


namespace ScadaShell.Model
{
    public class ComplexSchemaElement:SchemaElementBase
    {
            
        /*public IEnumerable<IChannel> GetChannels()
        {
            if (_channels == null)
            {
                _channels = new List<IChannel>();
                Type t = this.GetType();

                foreach (PropertyInfo pi in t.GetProperties())
                {
                    if (pi.PropertyType == typeof(IChannel))
                        _channels.Add((IChannel)t.GetProperty(pi.Name));
                }
            }
            if (_elements == null)
            {
                Type t = this.GetType();
                _elements = new List<ISchemaElement>();
                foreach (PropertyInfo pi in t.GetProperties())
                {
                    if (pi.PropertyType == typeof(ISchemaElement))
                    {
                        ISchemaElement el=((ISchemaElement)t.GetProperty(pi.Name));
                        _elements.Add(el);
                        foreach (IChannel ch in el.GetChannels())
                            _channels.Add(ch);
                    }
                }
            }
            return _channels;
        }
        */

    }
}
